@model IEnumerable<InsiderNepalApp.ViewModel.CultureNewsVM>
@{
    ViewData["Title"] = "Culture";
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title style="font-family:monospace">Culutre&LifeStyle News</title>
</head>
<body>

    <nav class="sidenavbar">
        <ul style="margin-top:100px;">
            <li><a asp-controller="Culture" asp-action="index"><i class="fa-solid fa-pen-to-square m-2"></i>Edit</a></li>
            <li><a asp-controller="Culture" asp-action="index"><i class="fa-solid fa-trash m-2"></i>Delete</a></li>
            <li><a asp-controller="Culture" asp-action="AddCultureNews"><i class="fa-solid fa-plus m-2"></i>Add</a></li>
        </ul>
    </nav>
    <div class="navbar-toggle">
        <a id="navbar-toggle" class="btn btn-primary" style="background-color:rgb(11,35,81); position:fixed;right:10px;" href="#"><i class="fa-solid fa-bars"></i></a>
    </div>



    <div style="padding-bottom:20px"></div>
    <div class="newsTopic">
        <div class="text-center h2">Culture&LifeStyle News</div>
    </div>


  @*  @foreach (var nnews in Model)
    {
        <div class="pb-3 border-bottom" style="width:44rem">
            <div class="d-flex mt-5  col-12 col-sm-6 col-md-6 gap-2" style="width:50rem;">
                <div class="col-md-6 col-sm-6">
                    <div class="newsHeadLine">
                        <h3 class="card-title">@nnews.Title</h3>
                    </div>
                    <div class="dateAndAuthor">
                        <p class="text-black-50">@nnews.PublishDateTime.ToString("MMM dd, yyyy")</p>
                    </div>
                    <div class="newsContent">

                        <p style="font-weight:bold">@nnews.Content</p>
                    </div>
                    <div class="dateAndAuthor">
                        <p class="text-black-50">- @nnews.Author</p>
                    </div>
                </div>
                @*different ways of fitting image in the given dev: fill, contain, cover none, scale-down
                <div class="col-md-6 col-sm-6" style="width:300px; height: 220px;">
                    <img src="@nnews.ImageUrl" class=" col-md-6 h-100 w-100" style="width:100%; height:100%; object-fit:cover; border-radius:10px;" />
                </div>

                for edit and delete button 
            </div>
            <a asp-controller="Culture" asp-action="EditCultureNews" asp-route-id="@nnews.CultureNewsVMId" class="btn btn-success" style="background-color:rgb(43,97,58)">Edit</a>
            <a asp-controller="Culture" asp-action="DeleteConfirmCN" asp-route-id="@nnews.CultureNewsVMId" class="btn btn-danger" style="background-color:rgb(158,3,13)">Delete</a>
        </div>

    }*@

    <table class="table border-primary table-bordered">

        <thead>
            <tr>
                <th>S.N</th>
                <th>News</th>
                <th>Content</th>
                <th>Image</th>
                <th>Publish Date</th>
                <th>Author Name</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @{
                var i = 1;
            }
            @foreach (var news in Model)
            {
                <div>
                    @{
                        string newsContent = string.Join(" ", @news.Content.Split(' ', StringSplitOptions.RemoveEmptyEntries).Take(10)) + " ....";
                    }
                </div>

                <tr>
                    <td>@i</td>
                    <td>@news.Title</td>
                    <td>@newsContent</td>
                    <td><img src="@news.ImageUrl" style="height:50px;"></td>
                    <td>@news.PublishDateTime.ToString("ddd, MMM dd yyyy")</td>
                    <td>@news.Author</td>
                    <td>
                        <a asp-controller="Culture" asp-action="EditCultureNews" asp-route-id="@news.CultureNewsVMId" class="btn btn-success" style="background-color:rgb(43,97,58)">Edit</a>
                        <a class="btn btn-danger" style="background-color:rgb(158,3,13)" href="/Culture/DeleteConfirmCN?id=@news.CultureNewsVMId">Delete</a>
                    </td>
                </tr>
                <div>
                    @{
                        i++;
                    }
                </div>
            }
        </tbody>
    </table>
    <script>
        const navbarToggle = document.getElementById("navbar-toggle");
        const sideNavbar = document.querySelector(".sidenavbar");

        navbarToggle.addEventListener("click", () => {
            sideNavbar.classList.toggle("active");
        });
    </script>

</body>
</html>
